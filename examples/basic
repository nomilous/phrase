#! /usr/bin/env coffee

phrase = require( '../lib/phrase' ).createRoot
    
    title: 'Title'
    uuid:  'UUID'

    (token, notice) -> 

        token.on 'ready', ({tokens}) -> 

            # console.log TOKENS: tokens

            token.run uuid: 'UUID', 
                parameter1: 'parameter1'
                parameter2: 'parameter2'


promise = phrase 'root phrase title', (nested) -> 

    nested 'nested phrase title', (end) -> 

        console.log """

            running nested phrase title with #{@parameter1} and #{@parameter2}

        """
        end()


promise.then(

    # (result) -> console.log RESULT: result 
    # (error)  -> console.log ERROR:  error
    # (notify) -> console.log NOTIFY: notify

)
