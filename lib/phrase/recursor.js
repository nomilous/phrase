// Generated by CoffeeScript 1.6.3
var RecursorHooks;

RecursorHooks = require('./recursor/hooks');

exports.create = function(root) {
  var context, emitter, inject, recursor, stack;
  context = root.context, inject = root.inject;
  stack = context.stack, emitter = context.emitter;
  recursor = function(phraseString, parentControl) {
    var hooks, injector;
    hooks = RecursorHooks.create(root);
    return injector = inject.async({
      parallel: false,
      beforeAll: hooks.beforeAll,
      beforeEach: hooks.beforeEach
    }, function(phraseString, control, recursor) {
      return recursor();
    });
  };
  return recursor('ROOT', {});
};
